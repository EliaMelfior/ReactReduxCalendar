{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nexport const notificationSlice = createSlice({\n  name: 'notifications',\n  initialState: {\n    uniqueId: 1,\n    notificationModalState: false,\n    notificationCreationModalState: false,\n    allNotifications: [],\n    dayNotifications: [],\n    currentDay: '',\n    monthObject: \"\",\n    reminderToEdit: '',\n    isEditing: false,\n    editingCity: '',\n    editinDate: '',\n    editingDescription: ''\n  },\n  reducers: {\n    createNotification: (state, notificationObj) => {\n      state.notificationCreationModalState = false;\n      state.notificationModalState = false;\n      state.allNotifications.push(notificationObj.payload);\n      state.uniqueId = state.uniqueId + 1;\n      /*\n      let latitude = parseInt(notificationObj.payload.city.latitude, 10).toFixed(2);\n      let longitude = parseInt(notificationObj.payload.city.longitude, 10).toFixed(2);\n      let date = notificationObj.payload.date;\n       let headers = new Headers();\n       headers.append('Content-Type', 'application/json');\n        window.fetch(\"https://meta-weather.vercel.app/api/location/search/?lattlong=\" + latitude + \",\" + longitude,\n          {   method: 'GET',\n              headers: headers })\n      .then(res => {\n          let locationWoeid = res[0].woeid;\n           window.fetch(\"https://meta-weather.vercel.app/api/location/\" + locationWoeid)\n          .then (res => {\n              notificationObj.payload.weatherForecast = res.consolidated_weather[0].weather_state_abbr;\n               debugger;\n              state.allNotifications.push(notificationObj.payload);\n          });\n      });\n      */\n    },\n    deleteNotification: (state, notificationObj) => {\n      state.allNotifications = state.allNotifications.filter(notification => {\n        let notificationDate = new Date(notification.date);\n        let notificationDescription = notification.description;\n        let objectDate = new Date(notificationObj.payload.date);\n        let objectDescription = notificationObj.payload.description;\n        return notificationDate != objectDate && notificationDescription != objectDescription;\n      });\n      state.dayNotifications = state.dayNotifications.filter(notification => {\n        let notificationDate = new Date(notification.date);\n        let notificationDescription = notification.description;\n        let objectDate = new Date(notificationObj.payload.date);\n        let objectDescription = notificationObj.payload.description;\n        return notificationDate != objectDate && notificationDescription != objectDescription;\n      });\n      state.notificationModalState = false;\n    },\n    editNotification: (state, notificationObject) => {\n      state.reminderToEdit = notificationObject;\n      state.notificationModalState = false;\n      state.isEditing = true;\n      state.notificationCreationModalState = true;\n    },\n    changeModalState: (state, monthObject) => {\n      let allNotifications = state.allNotifications;\n      state.currentDay = monthObject.payload;\n      state.dayNotifications = allNotifications.filter(notification => {\n        let notificationDate = new Date(notification.date);\n        let currentDayDate = new Date(state.currentDay.dateObject);\n        return notificationDate.getFullYear() === currentDayDate.getFullYear() && notificationDate.getMonth() === currentDayDate.getMonth() && notificationDate.getDate() === currentDayDate.getDate();\n      });\n      state.monthObject = monthObject;\n      state.notificationModalState = !state.notificationModalState;\n    },\n    changeCreationModalState: (state, monthObject) => {\n      state.monthObject = monthObject;\n      state.notificationModalState = false;\n      state.notificationCreationModalState = !state.notificationCreationModalState;\n    },\n    finishEditing: (state, editingObject) => {\n      let reminderToEdit = state.reminderToEdit.payload;\n      let newReminder = editingObject.payload;\n      state.allNotifications = state.allNotifications.filter(notification => {\n        return notification.id != reminderToEdit.id;\n      });\n      state.dayNotifications = state.dayNotifications.filter(notification => {\n        return notification.date != reminderToEdit.date && notification.city != reminderToEdit.city && notification.description != reminderToEdit.description;\n      });\n      state.allNotifications.push(newReminder);\n      state.notificationModalState = false;\n      state.notificationCreationModalState = false;\n      state.isEditing = false;\n      state.reminderToEdit = '';\n      state.uniqueId = state.uniqueId + 1;\n    },\n    changeEditingDate: (state, editingDate) => {\n      state.editingDate = editingDate.payload;\n    },\n    changeEditingCity: (state, editingCity) => {\n      state.editingCity = editingCity.payload;\n    },\n    changeEditingDescription: (state, editingDescription) => {\n      state.editingDescription = editingDescription.payload;\n    }\n  }\n});\nexport const {\n  createNotification,\n  deleteNotification,\n  finishEditing,\n  editNotification,\n  changeModalState,\n  changeCreationModalState,\n  clearEditingMode,\n  changeEditingDate,\n  changeEditingCity,\n  changeEditingDescription\n} = notificationSlice.actions;\nexport default notificationSlice.reducer;","map":{"version":3,"sources":["/home/elia/projects/ReactChallenge/src/reducers/notificationSlice.js"],"names":["createSlice","notificationSlice","name","initialState","uniqueId","notificationModalState","notificationCreationModalState","allNotifications","dayNotifications","currentDay","monthObject","reminderToEdit","isEditing","editingCity","editinDate","editingDescription","reducers","createNotification","state","notificationObj","push","payload","deleteNotification","filter","notification","notificationDate","Date","date","notificationDescription","description","objectDate","objectDescription","editNotification","notificationObject","changeModalState","currentDayDate","dateObject","getFullYear","getMonth","getDate","changeCreationModalState","finishEditing","editingObject","newReminder","id","city","changeEditingDate","editingDate","changeEditingCity","changeEditingDescription","clearEditingMode","actions","reducer"],"mappings":"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","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nexport const notificationSlice = createSlice({\n    name: 'notifications',\n    initialState: {\n        uniqueId: 1,\n        notificationModalState: false,\n        notificationCreationModalState: false,\n        allNotifications: [],\n        dayNotifications: [],\n        currentDay: '',\n        monthObject: \"\",\n        reminderToEdit: '',\n        isEditing: false,\n        editingCity: '',\n        editinDate: '',\n        editingDescription: ''\n    },\n    reducers: {\n        createNotification: (state, notificationObj) => {\n            state.notificationCreationModalState = false;\n            state.notificationModalState = false;\n\n            state.allNotifications.push(notificationObj.payload);\n            state.uniqueId = state.uniqueId + 1;\n            /*\n            let latitude = parseInt(notificationObj.payload.city.latitude, 10).toFixed(2);\n            let longitude = parseInt(notificationObj.payload.city.longitude, 10).toFixed(2);\n            let date = notificationObj.payload.date;\n\n            let headers = new Headers();\n\n            headers.append('Content-Type', 'application/json');\n\n\n            window.fetch(\"https://meta-weather.vercel.app/api/location/search/?lattlong=\" + latitude + \",\" + longitude,\n                {   method: 'GET',\n                    headers: headers })\n            .then(res => {\n                let locationWoeid = res[0].woeid;\n\n                window.fetch(\"https://meta-weather.vercel.app/api/location/\" + locationWoeid)\n                .then (res => {\n                    notificationObj.payload.weatherForecast = res.consolidated_weather[0].weather_state_abbr;\n\n                    debugger;\n                    state.allNotifications.push(notificationObj.payload);\n                });\n            });\n            */\n        },\n        deleteNotification: (state, notificationObj) => {\n            state.allNotifications = state.allNotifications.filter((notification) => {\n                let notificationDate = new Date(notification.date);\n                let notificationDescription = notification.description;\n                let objectDate = new Date(notificationObj.payload.date);\n                let objectDescription = notificationObj.payload.description;\n\n                return (notificationDate != objectDate &&\n                        notificationDescription != objectDescription);\n            });\n\n            state.dayNotifications = state.dayNotifications.filter((notification) => {\n                let notificationDate = new Date(notification.date);\n                let notificationDescription = notification.description;\n                let objectDate = new Date(notificationObj.payload.date);\n                let objectDescription = notificationObj.payload.description;\n\n                return (notificationDate != objectDate &&\n                        notificationDescription != objectDescription);\n            });\n\n            state.notificationModalState = false;\n        },\n        editNotification: (state, notificationObject) => {\n            state.reminderToEdit = notificationObject;\n\n            state.notificationModalState = false;\n            state.isEditing = true;\n            state.notificationCreationModalState = true;\n        },\n        changeModalState: (state, monthObject) => {\n            let allNotifications = state.allNotifications;\n\n            state.currentDay = monthObject.payload;\n\n            state.dayNotifications = allNotifications.filter( (notification) => {\n                let notificationDate = new Date(notification.date);\n                let currentDayDate = new Date(state.currentDay.dateObject);\n\n                return (notificationDate.getFullYear() === currentDayDate.getFullYear() &&\n                notificationDate.getMonth() === currentDayDate.getMonth() &&\n                notificationDate.getDate() === currentDayDate.getDate())\n            });\n\n            state.monthObject = monthObject;\n            state.notificationModalState = !state.notificationModalState;\n        },\n        changeCreationModalState: (state, monthObject) => {\n            state.monthObject = monthObject;\n            state.notificationModalState = false;\n            state.notificationCreationModalState = !state.notificationCreationModalState;\n        },\n        finishEditing: (state, editingObject) => {\n            let reminderToEdit = state.reminderToEdit.payload;\n            let newReminder = editingObject.payload;\n\n            state.allNotifications = state.allNotifications.filter( (notification) => {\n                return (notification.id != reminderToEdit.id);\n            });\n\n            state.dayNotifications = state.dayNotifications.filter( (notification) => {\n                return (notification.date != reminderToEdit.date &&\n                    notification.city != reminderToEdit.city &&\n                    notification.description != reminderToEdit.description)\n            });\n\n            state.allNotifications.push(newReminder);\n\n            state.notificationModalState = false;\n            state.notificationCreationModalState = false;\n            state.isEditing = false;\n            state.reminderToEdit = '';\n            state.uniqueId = state.uniqueId + 1;\n        },\n        changeEditingDate: (state, editingDate) => {\n            state.editingDate = editingDate.payload;\n        },\n        changeEditingCity: (state, editingCity) => {\n            state.editingCity = editingCity.payload;\n        },\n        changeEditingDescription: (state, editingDescription) => {\n            state.editingDescription = editingDescription.payload;\n        }\n    }\n});\n\nexport const {\n    createNotification, deleteNotification, finishEditing,\n    editNotification, changeModalState, changeCreationModalState, clearEditingMode,\n    changeEditingDate, changeEditingCity, changeEditingDescription\n} = notificationSlice.actions\n\nexport default notificationSlice.reducer"]},"metadata":{},"sourceType":"module"}